{"version":3,"sources":["main.js"],"names":["isTouchDevice","document","documentElement","$siteList","$","$lastLi","find","randomButton","addButton","localData","localStorage","getItem","localDataObject","JSON","parse","hashMap","logo","url","title","logoType","alphabet","timer","simplifyUrl","replace","deleteIcon","iconWrapper","node","render","remove","forEach","index","$li","insertBefore","on","window","open","e","stopPropagation","css","setTimeout","splice","Date","now","sf","each","classList","add","clearTimeout","removeClass","prompt","startsWith","push","error","key","trigger","toLowerCase","i","n","onbeforeunload","string","stringify","setItem","frequency","getRandomInt","min","max","Math","ceil","floor","random"],"mappings":"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","file":"main.fbd6d07c.map","sourceRoot":"..\\src","sourcesContent":["const isTouchDevice = 'ontouchstart' in document.documentElement\r\nconst $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')[1]\r\nconst randomButton = $('.randomButton')\r\nconst addButton = $('.addButton')\r\nconst localData = localStorage.getItem('localData')\r\nconst localDataObject = JSON.parse(localData)\r\nconst hashMap = localDataObject || [\r\n  {logo: '#icon-github', url: '//github.com', title: 'Github', logoType: 'svg'}\r\n]\r\nconst alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\r\nlet timer\r\nconst simplifyUrl = (url) => {\r\n  return url.replace('https://', '')\r\n    .replace('http://', '')\r\n    .replace('//', '')\r\n    .replace('www.', '')\r\n    .replace(/\\/.*/, '')\r\n    .replace(/\\..*/, '')\r\n}\r\nconst deleteIcon = () => {\r\n  if (isTouchDevice) {\r\n    return `\r\n      <div class=\"delete delete1\">\r\n        <svg class=\"icon\">\r\n          <use xlink:href=#icon-delete1></use>\r\n        </svg>\r\n      </div>\r\n      `\r\n  } else {\r\n    return `\r\n      <div class=\"delete\">\r\n        <svg class=\"icon\">\r\n          <use xlink:href=#icon-delete></use>\r\n        </svg>\r\n      </div>\r\n      `\r\n  }\r\n}\r\nconst iconWrapper = (node) => {\r\n  if (node.logoType === 'text') {\r\n    return `<div class=\"icon\">${node.logo}</div>`\r\n  } else if (node.logoType === 'svg') {\r\n    return `<svg class=\"icon\" aria-hidden=\"true\">\r\n      <use xlink:href=${node.logo}></use>`\r\n  } else if (node.logoType === 'image') {\r\n    return `<img class=\"icon\" height=\"24\" width=\"24\" src='//www.google.com/s2/favicons?domain=${node.url}' alt=\"${node.title}\"/>`\r\n  }\r\n}\r\n\r\nconst render = () => {\r\n  $siteList.find('li:not(.last)').remove()\r\n  hashMap.forEach((node, index) => {\r\n    const $li = $(`<li>\r\n      <div class=\"site label\">\r\n        <div class=\"icon-wrapper\">\r\n            ${iconWrapper(node)}\r\n        </div>\r\n        <div class=\"text\"><span>${node.title}</span></div>\r\n          ${deleteIcon()}\r\n      </div>\r\n    </li>`).insertBefore($lastLi)\r\n    $li.on('click', () => {\r\n      if (node.logoType === 'text') {\r\n        node.logoType = 'image'\r\n      }\r\n      window.open(node.url, '_self')\r\n    })\r\n    if (isTouchDevice) {\r\n      $li.on('click', '.delete', (e) => {\r\n        e.stopPropagation()\r\n        $li.css('animation', 'scaleBack 0.4s linear 1 forwards')\r\n        setTimeout(() => {\r\n          hashMap.splice(0, 1)\r\n        }, 400)\r\n      })\r\n      $li.on('touchstart', () => {\r\n        timer = Date.now()\r\n        let sf = setTimeout(() => {\r\n          $siteList.find('li:not(.last)').each((index, node) => {\r\n            node.classList.add('shake')\r\n          })\r\n          $('.delete1').css('display', 'block')\r\n        }, 700)\r\n      })\r\n      $li.on('touchend', () => {\r\n        timer = Date.now() - timer\r\n        if (timer < 700) {\r\n          clearTimeout(sf)\r\n        }\r\n        timer = 0;\r\n      })\r\n    } else {\r\n      $li.on('click', '.delete', (e) => {\r\n        e.stopPropagation()\r\n        hashMap.splice(index, 1)\r\n        render()\r\n      })\r\n    }\r\n\r\n  })\r\n}\r\n\r\nrender()\r\n$('body').on('click', () => {\r\n  $('.delete1').css('display', 'none')\r\n  $('.shake').removeClass('shake')\r\n})\r\n\r\naddButton.on('click', () => {\r\n  let url = window.prompt('请问你要添加的网址是啥？')\r\n  try {\r\n    if (!url.startsWith('http') || !url.startsWith('https')) {\r\n      url = '//' + url\r\n    }\r\n    const title = simplifyUrl(url)\r\n    hashMap.push({logo: `${title[0]}`, url: url, title: title, logoType: 'text'})\r\n    render()\r\n  } catch (error) {\r\n  }\r\n})\r\n\r\n$(document).on('keypress', (e) => {\r\n  const {key} = e\r\n  if (key === 'a') {\r\n    addButton.trigger('click')\r\n  } else if (key === 'r') {\r\n    randomButton.trigger('click')\r\n  }\r\n  hashMap.forEach((node, index) => {\r\n    if (node.title[0].toLowerCase() === key) {\r\n      $siteList.find('li:not(.last)').each((i, n) => {\r\n        if (i === index) {\r\n          $(n).trigger('click')\r\n        }\r\n      })\r\n    }\r\n  })\r\n})\r\n\r\nwindow.onbeforeunload = () => {\r\n  const string = JSON.stringify(hashMap)\r\n  localStorage.setItem('localData', string)\r\n}\r\n\r\n$('.searchForm > input').on('keypress', (e) => {\r\n  e.stopPropagation()\r\n})\r\n\r\nrandomButton.on('click', () => {\r\n  let frequency = getRandomInt(2, 5)\r\n  let url = '//'\r\n  for (let i = 0; i < frequency; i++) {\r\n    url += alphabet[getRandomInt(0, 25)]\r\n  }\r\n  window.open(url + '.com', '_self')\r\n})\r\n\r\nfunction getRandomInt(min, max) {\r\n  min = Math.ceil(min)\r\n  max = Math.floor(max)\r\n  return Math.floor(Math.random() * (max - min) + min)\r\n}\r\n"]}