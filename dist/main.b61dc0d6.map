{"version":3,"sources":["main.js"],"names":["document","body","style","minWidth","documentElement","clientWidth","minHeight","clientHeight","isTouchDevice","$siteList","$","$lastLi","find","randomButton","addButton","localData","localStorage","getItem","localDataObject","JSON","parse","hashMap","logo","url","title","logoType","alphabet","sf","timer","simplifyUrl","replace","deleteIcon","iconWrapper","node","render","remove","forEach","index","$li","insertBefore","on","e","stopPropagation","css","setTimeout","splice","storage","preventDefault","Date","now","each","classList","add","clearTimeout","changeIcon","removeClass","window","prompt","startsWith","push","error","key","trigger","toLowerCase","i","n","string","stringify","setItem","open","frequency","getRandomInt","min","max","Math","ceil","floor","random"],"mappings":"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","file":"main.b61dc0d6.map","sourceRoot":"..\\src","sourcesContent":["document.body.style.minWidth = document.documentElement.clientWidth + 'px'\r\ndocument.body.style.minHeight = document.documentElement.clientHeight + 'px'\r\n\r\nconst isTouchDevice = 'ontouchstart' in document.documentElement\r\nconst $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')[1]\r\nconst randomButton = $('.randomButton')\r\nconst addButton = $('.addButton')\r\nconst localData = localStorage.getItem('localData')\r\nconst localDataObject = JSON.parse(localData)\r\nconst hashMap = localDataObject || [\r\n  {logo: '#icon-github', url: '//github.com', title: 'Github', logoType: 'svg'}\r\n]\r\nconst alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']\r\nlet sf\r\nlet timer\r\nconst simplifyUrl = (url) => {\r\n  return url.replace('https://', '')\r\n    .replace('http://', '')\r\n    .replace('//', '')\r\n    .replace('www.', '')\r\n    .replace(/\\/.*/, '')\r\n    .replace(/\\..*/, '')\r\n}\r\nconst deleteIcon = () => {\r\n  if (isTouchDevice) {\r\n    return `\r\n      <div class=\"delete delete1\">\r\n        <svg class=\"icon\">\r\n          <use xlink:href=#icon-delete1></use>\r\n        </svg>\r\n      </div>\r\n      `\r\n  } else {\r\n    return `\r\n      <div class=\"delete\">\r\n        <svg class=\"icon\">\r\n          <use xlink:href=#icon-delete></use>\r\n        </svg>\r\n      </div>\r\n      `\r\n  }\r\n}\r\nconst iconWrapper = (node) => {\r\n  if (node.logoType === 'text') {\r\n    return `<div class=\"icon\">${node.logo}</div>`\r\n  } else if (node.logoType === 'svg') {\r\n    return `<svg class=\"icon\" aria-hidden=\"true\">\r\n      <use xlink:href=${node.logo}></use>`\r\n  } else if (node.logoType === 'image') {\r\n    return `<img class=\"icon\" height=\"24\" width=\"24\" src='//www.google.com/s2/favicons?domain=${node.url}' alt=\"${node.title}\"/>`\r\n  }\r\n}\r\n\r\nconst render = () => {\r\n  $siteList.find('li:not(.last)').remove()\r\n  hashMap.forEach((node, index) => {\r\n    const $li = $(`<li>\r\n      <div class=\"site label\">\r\n        <div class=\"icon-wrapper\">\r\n            ${iconWrapper(node)}\r\n        </div>\r\n        <div class=\"text\"><span>${node.title}</span></div>\r\n          ${deleteIcon()}\r\n      </div>\r\n    </li>`).insertBefore($lastLi)\r\n\r\n    if (isTouchDevice) {\r\n      $li.on('touchend', '.delete1', (e) => {\r\n          e.stopPropagation()\r\n          $li.css('animation', 'scaleBack 0.65s linear 1 forwards')\r\n          setTimeout(() => {\r\n            hashMap.splice(index, 1)\r\n            storage()\r\n            render()\r\n          }, 650)\r\n        }\r\n      )\r\n      $li.on('touchstart', (e) => {\r\n        e.preventDefault()\r\n        timer = Date.now()\r\n        sf = setTimeout(() => {\r\n          $siteList.find('li:not(.last)').each((index, node) => {\r\n            node.classList.add('shake')\r\n          })\r\n          $('.delete1').css('display', 'block')\r\n        }, 700)\r\n      })\r\n      $li.on('touchend', () => {\r\n        timer = Date.now() - timer\r\n        if (timer < 700) {\r\n          clearTimeout(sf)\r\n          changeIcon(node)\r\n        }\r\n        timer = 0;\r\n      })\r\n    } else {\r\n      $li.on('click', (e) => {\r\n        changeIcon(node)\r\n      })\r\n      $li.on('click', '.delete', (e) => {\r\n        e.stopPropagation()\r\n        hashMap.splice(index, 1)\r\n        storage()\r\n        render()\r\n      })\r\n    }\r\n\r\n  })\r\n}\r\n\r\nrender()\r\n$('body').on('click', () => {\r\n  $('.delete1').css('display', 'none')\r\n  $('.shake').removeClass('shake')\r\n})\r\n\r\naddButton.on('click', () => {\r\n  let url = window.prompt('请问你要添加的网址是啥？')\r\n  try {\r\n    if (!url.startsWith('http') || !url.startsWith('https')) {\r\n      url = '//' + url\r\n    }\r\n    const title = simplifyUrl(url)\r\n    hashMap.push({logo: `${title[0]}`, url: url, title: title, logoType: 'text'})\r\n    storage()\r\n    render()\r\n  } catch (error) {\r\n  }\r\n})\r\n\r\n$(document).on('keypress', (e) => {\r\n  const {key} = e\r\n  if (key === 'a') {\r\n    addButton.trigger('click')\r\n  } else if (key === 'r') {\r\n    randomButton.trigger('click')\r\n  }\r\n  hashMap.forEach((node, index) => {\r\n    if (node.title[0].toLowerCase() === key) {\r\n      $siteList.find('li:not(.last)').each((i, n) => {\r\n        if (i === index) {\r\n          $(n).trigger('click')\r\n          $(n).trigger('touchstart')\r\n          $(n).trigger('touchend')\r\n        }\r\n      })\r\n    }\r\n  })\r\n})\r\n\r\nfunction storage() {\r\n  const string = JSON.stringify(hashMap)\r\n  localStorage.setItem('localData', string)\r\n}\r\n\r\nfunction changeIcon(node) {\r\n  if (node.logoType === 'text') {\r\n    node.logoType = 'image'\r\n  }\r\n  storage()\r\n  window.open(node.url, '_self')\r\n}\r\n\r\n$('.searchForm > input').on('keypress', (e) => {\r\n  e.stopPropagation()\r\n})\r\n\r\nrandomButton.on('click', () => {\r\n  let frequency = getRandomInt(2, 5)\r\n  let url = '//'\r\n  for (let i = 0; i < frequency; i++) {\r\n    url += alphabet[getRandomInt(0, 25)]\r\n  }\r\n  window.open(url + '.com', '_self')\r\n})\r\n\r\nfunction getRandomInt(min, max) {\r\n  min = Math.ceil(min)\r\n  max = Math.floor(max)\r\n  return Math.floor(Math.random() * (max - min) + min)\r\n}\r\n"]}